"use strict";!function(){var a=document.querySelector("body"),i=document.querySelector(".up-btn"),t=document.querySelector(".catalog__products");function g(e,t){for(var n,r,i=0;i<e.length;i++){var o=e[i].getAttribute(t),o=Number(o);0===i&&(r=n=o),o<n&&(n=o),r<o&&(r=o)}return[n,r]}function n(e,t){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var n=0;n<t.length;n+=1)e.appendChild(t[n])}function r(e){for(var t=a.querySelectorAll(".products__item"),n=[],r=[],i=g(t,e)[0],o=0;o<t.length;o++){var c=t[o],d=c.getAttribute(e);(Number(d)===i?n:r).push(c)}for(;0!==r.length;){i=g(r,e)[0];for(var u=0;u<r.length;u++){var l=r[u],s=l.getAttribute(e);Number(s)===i&&(n.push(l),r.splice(u,1),u=-1)}}return n}function o(e){e=r(e).reverse();n(t,e)}function c(e){e=r(e);n(t,e)}function d(e,t){for(var n=e;n;){if(n.classList.contains(t))return n;n=n.parentElement}return null}function u(){var e=window.innerHeight||document.documentElement.scrollTop,t=window.pageYOffset,n=e+t,r=i.getBoundingClientRect().top+t,e=i.classList.contains("visibility-hidden");0===t&&r<=n&&!1===e?i.classList.add("visibility-hidden"):(0===t&&n<=r&&!0===e||0!==t&&r<=n&&!0===e)&&i.classList.remove("visibility-hidden")}window.addEventListener("load",function(){u(),function(){for(var e=a.querySelectorAll(".products__item"),t=0;t<e.length;t++){var n=e[t],r=0!==(r=n.querySelector(".count__number-year").textContent).length?12*Number(r):Number(r),i=0===(i=n.querySelector(".count__number-month").textContent).length?0:Number(i),r=Number(r)+Number(i),i=n.querySelector(".product__prise-number").textContent.split(" ").join("");n.setAttribute("data-age",r),n.setAttribute("data-price",i)}}();for(var e=document.querySelector(".catalog__products").querySelectorAll(".products__btn"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("is-disabled")&&(n.textContent="Продан")}}),window.addEventListener("resize",u),window.addEventListener("scroll",u),document.addEventListener("mousedown",function(e){return e.preventDefault()}),a.addEventListener("click",function(e){var t=e.target,n=t.getAttribute("data-scroll-to"),r=d(t,"sorting__icon"),i=d(t,"like-btn");null!==n&&(e.preventDefault(),(n=document.querySelector("."+n))&&function(e){e=e.getBoundingClientRect().top+window.pageYOffset;window.scrollTo(0,e,{behavior:"smooth"})}(n)),r&&((t=d(t,"sorting__by-item").querySelector(".sorting__choose-box")).classList.toggle("visibility-hidden"),!1===t.classList.contains("visibility-hidden")&&t.addEventListener("click",function(){var e=document.getElementById("price__ascending"),t=document.getElementById("price__descending"),n=document.getElementById("age__ascending"),r=document.getElementById("age__descending");e.checked&&c("data-price"),t.checked&&o("data-price"),n.checked&&c("data-age"),r.checked&&o("data-age")})),i&&i.classList.toggle("like-btn--is-active")})}();