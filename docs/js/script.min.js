"use strict";!function(){var l=document.querySelector("body"),r=l.querySelector(".catalog__products"),d=r.querySelectorAll(".products__item"),u=[],g=d.length,i=l.querySelector(".up-btn"),v=6;function n(e,t){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var n=0;n<t.length;n+=1)e.appendChild(t[n])}function f(e,t){for(var n,r,i=0;i<e.length;i++){var o=e[i].getAttribute(t),o=Number(o);0===i&&(r=n=o),o<n&&(n=o),r<o&&(r=o)}return[n,r]}function o(e,t){for(var n=f(t,e)[0],r=[],i=[],o=0;o<t.length;o++){var c=t[o],a=c.getAttribute(e);(Number(a)===n?i:r).push(c)}for(;0!==r.length;){n=f(r,e)[0];for(var s=0;s<r.length;s++){var l=r[s],d=l.getAttribute(e);Number(d)===n&&(i.push(l),r.splice(s,1),s=-1)}}return i}function c(e,t){t=o(e,t).reverse();n(r,t)}function a(e,t){t=o(e,t);n(r,t)}function _(){var e=document.getElementById("price__ascending"),t=document.getElementById("price__descending"),n=document.getElementById("age__ascending"),r=document.getElementById("age__descending");e.checked&&a("data-price",u),t.checked&&c("data-price",u),n.checked&&a("data-age",u),r.checked&&c("data-age",u)}function b(e,t){for(var n=e;n;){if(n.classList.contains(t))return n;n=n.parentElement}return null}function m(){if(!function(){for(var e=0;e<g;e++)d[e].classList.contains("visibility-hidden")&&d[e].classList.remove("visibility-hidden")}(),v<g){for(var e=v;e<g;e++)d[e].classList.add("visibility-hidden");for(var t=0;t<v;t++)u[t]=d[t];_()}}function h(){var e=window.innerHeight||document.documentElement.scrollTop,t=window.pageYOffset,n=e+t,r=i.getBoundingClientRect().top+t,e=i.classList.contains("visibility-hidden");0===t&&r<=n&&!1===e?i.classList.add("visibility-hidden"):(0===t&&n<=r&&!0===e||0!==t&&r<=n&&!0===e)&&i.classList.remove("visibility-hidden")}document.addEventListener("mousedown",function(e){null===b(e.target,"mail-input")&&e.preventDefault()}),window.addEventListener("load",function(){!function(){for(var e=r.querySelectorAll(".products__btn"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("is-disabled")&&(n.textContent="Продан")}}(),h(),function(){for(var e=0;e<g;e++){var t=d[e],n=0!==(n=t.querySelector(".count__number-year").textContent).length?12*Number(n):Number(n),r=0===(r=t.querySelector(".count__number-month").textContent).length?0:Number(r),n=Number(n)+Number(r),r=t.querySelector(".product__prise-number").textContent.split(" ").join("");t.setAttribute("data-age",n),t.setAttribute("data-price",r)}}(),m()}),window.addEventListener("resize",h),window.addEventListener("scroll",h),l.addEventListener("click",function(e){var t=e.target,n=b(t,"up-btn"),r=b(t,"more-items__btn"),i=b(t,"sorting__icon"),o=b(t,"like-btn"),c=b(t,"sorting__by-btn"),a=b(t,"header__burger");if(null!==n&&(e.preventDefault(),n=n.getAttribute("data-scroll-to"),n=document.querySelector("."+n),n=n,n=$(n).offset().top,$("body,html").animate({scrollTop:n},1500)),r&&(e.preventDefault(),v+=20,m(),g<v)){r.textContent="Вы пpосмотрели всех котэ",r.disabled=!0;for(var s=0;s<g;s++)u[s]=d[s];_()}i&&(e.preventDefault(),b(t,"sorting__by-item").querySelector(".sorting__choose-box").classList.toggle("visibility-hidden")),o&&(e.preventDefault(),o.classList.toggle("like-btn--is-active")),c&&(e.preventDefault(),c.querySelector(".radio__input").checked=!0,_()),a&&(a=l.querySelector(".header__nav"),l.querySelector(".header__contacts").classList.toggle("header__burger--is-active"),a.classList.toggle("header__burger--is-active"),h())})}();