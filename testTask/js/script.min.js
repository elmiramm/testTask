"use strict";!function(){var e=document.querySelector("body"),i=e.querySelector(".catalog__products"),a=i.querySelectorAll(".products__item"),d=[],s=a.length,r=e.querySelector(".up-btn"),u=6;function n(e,t){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var n=0;n<t.length;n+=1)e.appendChild(t[n])}function f(e,t){for(var n,i,r=0;r<e.length;r++){var o=e[r].getAttribute(t),o=Number(o);0===r&&(i=n=o),o<n&&(n=o),i<o&&(i=o)}return[n,i]}function o(e,t){for(var n=f(t,e)[0],i=[],r=[],o=0;o<t.length;o++){var c=t[o],l=c.getAttribute(e);(Number(l)===n?r:i).push(c)}for(;0!==i.length;){n=f(i,e)[0];for(var a=0;a<i.length;a++){var d=i[a],s=d.getAttribute(e);Number(s)===n&&(r.push(d),i.splice(a,1),a=-1)}}return r}function c(e,t){t=o(e,t).reverse();n(i,t)}function l(e,t){t=o(e,t);n(i,t)}function g(){var e=document.getElementById("price__ascending"),t=document.getElementById("price__descending"),n=document.getElementById("age__ascending"),i=document.getElementById("age__descending");e.checked&&l("data-price",d),t.checked&&c("data-price",d),n.checked&&l("data-age",d),i.checked&&c("data-age",d)}function v(e,t){for(var n=e;n;){if(n.classList.contains(t))return n;n=n.parentElement}return null}function b(){if(!function(){for(var e=0;e<s;e++)a[e].classList.contains("visibility-hidden")&&a[e].classList.remove("visibility-hidden")}(),u<s){for(var e=u;e<s;e++)a[e].classList.add("visibility-hidden");for(var t=0;t<u;t++)d[t]=a[t];g()}}function t(){var e=window.innerHeight||document.documentElement.scrollTop,t=window.pageYOffset,n=e+t,i=r.getBoundingClientRect().top+t,e=r.classList.contains("visibility-hidden");0===t&&i<=n&&!1===e?r.classList.add("visibility-hidden"):(0===t&&n<=i&&!0===e||0!==t&&i<=n&&!0===e)&&r.classList.remove("visibility-hidden")}document.addEventListener("mousedown",function(e){var t=v(e.target,"mail-input");console.log(t),null===t&&e.preventDefault()}),window.addEventListener("load",function(){!function(){for(var e=i.querySelectorAll(".products__btn"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("is-disabled")&&(n.textContent="Продан")}}(),t(),function(){for(var e=0;e<s;e++){var t=a[e],n=0!==(n=t.querySelector(".count__number-year").textContent).length?12*Number(n):Number(n),i=0===(i=t.querySelector(".count__number-month").textContent).length?0:Number(i),n=Number(n)+Number(i),i=t.querySelector(".product__prise-number").textContent.split(" ").join("");t.setAttribute("data-age",n),t.setAttribute("data-price",i)}}(),b()}),window.addEventListener("resize",t),window.addEventListener("scroll",t),e.addEventListener("click",function(e){var t=e.target,n=t.getAttribute("data-scroll-to"),i=v(t,"more-items__btn"),r=v(t,"sorting__icon"),o=v(t,"like-btn"),c=v(t,"sorting__by-btn");if(null!==n&&(e.preventDefault(),(n=document.querySelector("."+n))&&(n=(n=n).getBoundingClientRect().top+window.pageYOffset,window.scrollTo(0,n,{behavior:"smooth"}))),i&&(e.preventDefault(),u+=20,b(),s<u)){i.textContent="Вы пpосмотрели всех котэ",i.disabled=!0;for(var l=0;l<s;l++)d[l]=a[l];g()}r&&(e.preventDefault(),v(t,"sorting__by-item").querySelector(".sorting__choose-box").classList.toggle("visibility-hidden")),o&&(e.preventDefault(),o.classList.toggle("like-btn--is-active")),c&&(e.preventDefault(),c.querySelector(".radio__input").checked=!0,g())})}();