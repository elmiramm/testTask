"use strict";!function(){var e=document.querySelector("body"),i=e.querySelector(".catalog__products"),d=i.querySelectorAll(".products__item"),l=[],a=d.length,r=e.querySelector(".up-btn"),u=6;function n(e,t){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var n=0;n<t.length;n+=1)e.appendChild(t[n])}function v(e,t){for(var n,i,r=0;r<e.length;r++){var o=e[r].getAttribute(t),o=Number(o);0===r&&(i=n=o),o<n&&(n=o),i<o&&(i=o)}return[n,i]}function o(e,t){for(var n=v(t,e)[0],i=[],r=[],o=0;o<t.length;o++){var c=t[o],s=c.getAttribute(e);(Number(s)===n?r:i).push(c)}for(;0!==i.length;){n=v(i,e)[0];for(var d=0;d<i.length;d++){var l=i[d],a=l.getAttribute(e);Number(a)===n&&(r.push(l),i.splice(d,1),d=-1)}}return r}function c(e,t){t=o(e,t).reverse();n(i,t)}function s(e,t){t=o(e,t);n(i,t)}function f(){var e=document.getElementById("price__ascending"),t=document.getElementById("price__descending"),n=document.getElementById("age__ascending"),i=document.getElementById("age__descending");e.checked&&s("data-price",l),t.checked&&c("data-price",l),n.checked&&s("data-age",l),i.checked&&c("data-age",l)}function g(e,t){for(var n=e;n;){if(n.classList.contains(t))return n;n=n.parentElement}return null}function m(){if(!function(){for(var e=0;e<a;e++)d[e].classList.contains("visually-hidden")&&d[e].classList.remove("visually-hidden")}(),u<a){for(var e=u;e<a;e++)d[e].classList.add("visually-hidden");for(var t=0;t<u;t++)l[t]=d[t];f()}}function t(){var e=window.innerHeight||document.documentElement.scrollTop,t=window.pageYOffset,n=e+t,i=r.getBoundingClientRect().top+t,e=r.classList.contains("visibility-hidden");0===t&&i<=n&&!1===e?r.classList.add("visibility-hidden"):(0===t&&n<=i&&!0===e||0!==t&&i<=n&&!0===e)&&r.classList.remove("visibility-hidden")}document.addEventListener("mousedown",function(e){return e.preventDefault()}),window.addEventListener("load",function(){!function(){for(var e=i.querySelectorAll(".products__btn"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("is-disabled")&&(n.textContent="Продан")}}(),t(),function(){for(var e=0;e<a;e++){var t=d[e],n=0!==(n=t.querySelector(".count__number-year").textContent).length?12*Number(n):Number(n),i=0===(i=t.querySelector(".count__number-month").textContent).length?0:Number(i),n=Number(n)+Number(i),i=t.querySelector(".product__prise-number").textContent.split(" ").join("");t.setAttribute("data-age",n),t.setAttribute("data-price",i)}}(),m()}),window.addEventListener("resize",t),window.addEventListener("scroll",t),e.addEventListener("click",function(e){var t,n=e.target,i=n.getAttribute("data-scroll-to"),r=g(n,"more-items__btn"),o=g(n,"sorting__icon"),c=g(n,"like-btn");if(null!==i&&(e.preventDefault(),(i=document.querySelector("."+i))&&(i=(i=i).getBoundingClientRect().top+window.pageYOffset,window.scrollTo(0,i,{behavior:"smooth"}))),r&&(u+=20,m(),a<u)){r.textContent="Вы пpосмотрели всех котэ",r.disabled=!0;for(var s=0;s<a;s++)l[s]=d[s];f()}o&&((t=g(n,"sorting__by-item").querySelector(".sorting__choose-box")).classList.toggle("visibility-hidden"),!1===t.classList.contains("visibility-hidden")&&t.addEventListener("click",function(){f(),t.classList.add("visibility-hidden"),t.removeEventListener("click",function(){})})),c&&c.classList.toggle("like-btn--is-active")})}();