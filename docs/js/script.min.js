"use strict";!function(){var s=document.querySelector("body"),i=s.querySelector(".catalog__products"),d=i.querySelectorAll(".products__item"),l=[],u=d.length,r=s.querySelector(".up-btn"),g=6;function n(e,t){!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e);for(var n=0;n<t.length;n+=1)e.appendChild(t[n])}function v(e,t){for(var n,i,r=0;r<e.length;r++){var o=e[r].getAttribute(t),o=Number(o);0===r&&(i=n=o),o<n&&(n=o),i<o&&(i=o)}return[n,i]}function o(e,t){for(var n=v(t,e)[0],i=[],r=[],o=0;o<t.length;o++){var c=t[o],a=c.getAttribute(e);(Number(a)===n?r:i).push(c)}for(;0!==i.length;){n=v(i,e)[0];for(var s=0;s<i.length;s++){var d=i[s],l=d.getAttribute(e);Number(l)===n&&(r.push(d),i.splice(s,1),s=-1)}}return r}function c(e,t){t=o(e,t).reverse();n(i,t)}function a(e,t){t=o(e,t);n(i,t)}function f(){var e=document.getElementById("price__ascending"),t=document.getElementById("price__descending"),n=document.getElementById("age__ascending"),i=document.getElementById("age__descending");e.checked&&a("data-price",l),t.checked&&c("data-price",l),n.checked&&a("data-age",l),i.checked&&c("data-age",l)}function _(e,t){for(var n=e;n;){if(n.classList.contains(t))return n;n=n.parentElement}return null}function b(){if(!function(){for(var e=0;e<u;e++)d[e].classList.contains("visibility-hidden")&&d[e].classList.remove("visibility-hidden")}(),g<u){for(var e=g;e<u;e++)d[e].classList.add("visibility-hidden");for(var t=0;t<g;t++)l[t]=d[t];f()}}function h(){var e=window.innerHeight||document.documentElement.scrollTop,t=window.pageYOffset,n=e+t,i=r.getBoundingClientRect().top+t,e=r.classList.contains("visibility-hidden");0===t&&i<=n&&!1===e?r.classList.add("visibility-hidden"):(0===t&&n<=i&&!0===e||0!==t&&i<=n&&!0===e)&&r.classList.remove("visibility-hidden")}document.addEventListener("mousedown",function(e){null===_(e.target,"mail-input")&&e.preventDefault()}),window.addEventListener("load",function(){!function(){for(var e=i.querySelectorAll(".products__btn"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("is-disabled")&&(n.textContent="Продан")}}(),h(),function(){for(var e=0;e<u;e++){var t=d[e],n=0!==(n=t.querySelector(".count__number-year").textContent).length?12*Number(n):Number(n),i=0===(i=t.querySelector(".count__number-month").textContent).length?0:Number(i),n=Number(n)+Number(i),i=t.querySelector(".product__prise-number").textContent.split(" ").join("");t.setAttribute("data-age",n),t.setAttribute("data-price",i)}}(),b()}),window.addEventListener("resize",h),window.addEventListener("scroll",h),s.addEventListener("click",function(e){var t=e.target,n=_(t,"more-items__btn"),i=_(t,"sorting__icon"),r=_(t,"like-btn"),o=_(t,"sorting__by-btn"),c=_(t,"header__burger");if(n&&(e.preventDefault(),g+=20,b(),u<g)){n.textContent="Вы пpосмотрели всех котэ",n.disabled=!0;for(var a=0;a<u;a++)l[a]=d[a];f()}i&&(e.preventDefault(),_(t,"sorting__by-item").querySelector(".sorting__choose-box").classList.toggle("visibility-hidden")),r&&(e.preventDefault(),r.classList.toggle("like-btn--is-active")),o&&(e.preventDefault(),o.querySelector(".radio__input").checked=!0,f()),c&&(c=s.querySelector(".header__nav"),s.querySelector(".header__contacts").classList.toggle("header__burger--is-active"),c.classList.toggle("header__burger--is-active"),h())})}();